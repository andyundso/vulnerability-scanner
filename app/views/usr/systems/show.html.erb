<h1><%= @system.name %></h1>

<br>

<div class="row">

  <div class="col-6">
    <h3><%= I18n.t 'usr.system.show.script' %></h3>
    <p><%= I18n.t 'usr.system.show.wanna_update' %></p>
    <%= link_to 'Download script', script_usr_system_path(@system, format: :ps1), class: 'btn btn-outline-primary' %>
  </div>

  <div class="col-6">
    <h3><%= I18n.t 'usr.system.show.system_information' %></h3>
    <b><%= I18n.t 'usr.system.show.system.manufacturer' %></b><%= @system.manufacturer %><br>
    <b><%= I18n.t 'usr.system.show.system.model' %></b><%= @system.model %><br>
    <p><b><%= I18n.t 'usr.system.show.system.memory' %></b><%= (@system.memory).round %> MB </p>
  </div>
</div>
<br>

<div class="row">
  <div class="col-12">
    <h3><%= I18n.t 'usr.system.show.installed_software' %></h3>
    <br>

    <table class="table table-striped">
      <thead>
      <tr>
        <th><%= I18n.t 'usr.system.show.table.vendor' %></th>
        <th><%= I18n.t 'usr.system.show.table.software' %></th>
        <th><%= I18n.t 'usr.system.show.table.version' %></th>
        <th><%= I18n.t 'usr.system.show.table.security_issues' %></th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <% @system.installed_software.where(installed: true).each do |sft| %>
        <tr>
          <th><%= sft.software_version.software.vendor.name %></th>
          <th><%= sft.software_version.software.name %></th>
          <th><%= sft.software_version.version %></th>
          <th><%= sft.software_version.vulnerabilities.any? ? 'Yes' : 'No' %></th>
          <th><%= link_to 'Show', sft_software_path(sft.software_version.software) %></th>
        </tr>
      <% end %>
      </tbody>
    </table>
  </div>
</div>